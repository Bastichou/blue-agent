image:
  repository: ghcr.io/clemlesne/azure-pipelines-agent
  pullPolicy: IfNotPresent
  flavor: bullseye
  # Overrides the image tag whose default is the chart appVersion.
  version: ""

imagePullSecrets: null
nameOverride: null
fullnameOverride: null

autoscaling:
  enabled: true
  # If autoscaling not enabled, the number of replicas to run
  minReplicas: 1
  maxReplicas: 100

pipelines:
  cacheSize: 10Gi
  cacheType: managed-csi
  pat: null
  pool: null
  url: null
  capabilities: []
  timeout: 3600

serviceAccount:
  create: true
  # The name of the service account to use. If not set and create is true, a name is generated using the fullname template
  name: ""

# Customize security context and policies.
#
# Like, to be used with img or BuildKit:
#
# podSecurityContext:
#   procMount: Unmasked
podSecurityContext: {}

# securityContext:
#   capabilities:
#     drop:
#     - ALL
#   readOnlyRootFilesystem: true
#   runAsNonRoot: true
#   runAsUser: 1000
securityContext: {}

resources:
  limits:
    cpu: 2
    memory: 4Gi
  requests:
    cpu: 1
    memory: 2Gi

nodeSelector: null

tolerations: null

affinity: null

# Annotation to customize various scheduling and security behaviors.
#
# Like, to be used with img or BuildKit:
#
# annotations:
#   container.apparmor.security.beta.kubernetes.io/azp-agent: unconfined
#   container.seccomp.security.alpha.kubernetes.io/azp-agent: unconfined
annotations: null

# Additional environment variables for the agent container.
#
# Like:
#
# - name: XXX
#   value: YYY
#
# Or, reference to a secret or configmap:
#
# - name: SPECIAL_LEVEL_KEY
#   valueFrom:
#     configMapKeyRef:
#       name: special-config
#       key: special.how
#
# - name: SECRET_KEY
#   valueFrom:
#     secretKeyRef:
#       name: secret-name
#       key: secret.key
additionalEnv: []

# Additional volumes for the agent pod.
#
# extraVolumes:
#   - name: config-volume
#     configMap:
#      name: special-config
extraVolumes: null

# Additional volume mounts for the agent container.
#
# extraVolumeMounts:
#   - name: config-volume
#     mountPath: /etc/special
#     readOnly: true
extraVolumeMounts: null

# Init containers for the agent pod.
#
# initContainers:
#   - name: init-container
#     image: busybox
#     command: ["/bin/sh", "-c", "echo Hello World"]
initContainers: null
